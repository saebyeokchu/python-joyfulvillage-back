from datetime import datetime
from django.core.mail import send_mail

class CustomEmailService :
    def sendAuth(userEmailAddr, randNum) :
            
        # HTML message (Using f-strings for better readability)
        html_message = f"""
        <body style="font-family: Arial, sans-serif; background-color: #f4f4f4; margin: 0; padding: 0;">
            <div style="max-width: 600px; margin: 20px auto; background: #ffffff; padding: 20px; border-radius: 8px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);">
                <div style="text-align: center;">
                <!-- Replace with your actual logo URL -->
                <svg width="100" height="30" viewBox="0 0 184 57" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M72.1472 42.4321C72.108 43.3941 72.0776 44.2517 72.0297 45.1092C72.0079 45.4749 72.2386 45.6055 72.5259 45.7143C73.3312 46.0147 74.1279 46.3499 74.9419 46.6285C79.5083 48.1956 84.0616 49.8236 88.7498 50.9946C90.5955 51.456 92.4717 51.813 94.3305 52.2265C94.7135 52.3092 95.101 52.3963 95.4579 52.5399C96.5462 52.9839 97.086 54.0896 96.7682 55.1518C96.433 56.2705 95.3796 56.8756 94.1868 56.6405C88.493 55.5174 82.9037 54.0069 77.4449 52.0219C74.8461 51.0773 72.2386 50.1457 69.6485 49.1706C68.1554 48.6091 67.6331 47.8255 67.681 46.2497C67.7376 44.2952 67.694 42.332 68.0031 40.3905C68.2382 38.9105 69.0261 38.1835 70.5192 38.1356C73.0744 38.0485 75.634 37.9702 78.1893 37.8396C79.7782 37.7569 81.3627 37.5654 82.9515 37.4522C83.5261 37.413 83.8396 37.1866 83.9745 36.6033C84.1225 35.9504 84.3576 35.3235 84.5839 34.6053C84.1573 34.5356 83.857 34.4616 83.5523 34.4399C80.1438 34.1743 76.7354 33.9001 73.3225 33.6607C72.5433 33.6041 71.7554 33.6607 70.9762 33.6607C70.7151 33.6607 70.4495 33.6824 70.197 33.6476C69.3569 33.5344 68.6996 32.8945 68.5646 32.0761C68.434 31.31 68.8389 30.496 69.5745 30.1216C69.8488 29.9823 70.1579 29.8909 70.4626 29.8299C70.8718 29.7472 71.2897 29.6906 71.7032 29.6776C76.5917 29.5209 81.4628 29.7081 86.3034 30.4698C86.7387 30.5395 87.174 30.6483 87.5963 30.7876C88.8195 31.1925 89.4507 32.1458 89.307 33.4343C89.233 34.0785 89.0807 34.7184 88.9022 35.3453C88.567 36.525 88.1752 37.6872 87.8226 38.8626C87.3351 40.4863 86.286 41.4135 84.5796 41.5963C81.2582 41.9576 77.9281 42.2406 74.5849 42.3233C73.8057 42.3407 73.0309 42.3886 72.1559 42.4277L72.1472 42.4321Z" fill="#4B5A62"/>
                <path d="M103.302 41.8749C103.302 42.7499 103.289 43.5552 103.311 44.3605C103.32 44.7305 103.677 44.7653 103.938 44.8524C105.126 45.2529 106.319 45.6316 107.503 46.0364C109.997 46.8896 112.452 47.8734 114.986 48.583C117.746 49.3578 120.575 49.8802 123.374 50.5157C123.753 50.6028 124.149 50.6594 124.506 50.8074C125.503 51.2166 126.034 52.2265 125.816 53.2103C125.59 54.2333 124.654 54.9689 123.57 54.8819C122.791 54.8209 122.016 54.6816 121.25 54.5293C116.684 53.6238 112.2 52.4311 107.856 50.7378C106.301 50.1327 104.691 49.6712 103.111 49.1228C102.271 48.8311 101.448 48.509 100.621 48.1869C99.5281 47.7603 98.9752 46.9288 98.9491 45.7753C98.9056 43.9208 98.8708 42.0708 98.8751 40.2164C98.8751 38.8321 99.5586 38.005 100.93 37.7743C102.345 37.5349 103.777 37.4043 105.196 37.1953C108.008 36.7818 110.82 36.3508 113.632 35.9242C113.789 35.9025 113.941 35.859 114.093 35.8502C114.533 35.8198 114.733 35.6195 114.738 35.1538C114.751 34.3746 114.82 33.5954 114.868 32.7726C114.625 32.7291 114.424 32.6812 114.224 32.6638C112.744 32.5245 111.264 32.3765 109.78 32.2633C109 32.2067 108.217 32.2024 107.433 32.198C105.762 32.1893 104.094 32.2067 102.423 32.198C101.517 32.1937 100.79 31.6408 100.551 30.8094C100.32 30.0084 100.669 29.1073 101.474 28.6807C101.874 28.4674 102.353 28.3194 102.806 28.2846C104.599 28.1453 106.397 28.0582 108.195 27.9581C110.319 27.8362 112.413 28.2019 114.52 28.3543C115.352 28.4152 116.187 28.4631 117.014 28.5763C118.764 28.8113 119.57 29.8299 119.422 31.6016C119.282 33.2384 119.13 34.8752 118.956 36.5076C118.908 36.9472 118.812 37.3869 118.677 37.8048C118.377 38.7363 117.759 39.398 116.818 39.6635C116.044 39.8812 115.247 40.0423 114.45 40.1641C110.837 40.717 107.224 41.2437 103.611 41.7878C103.511 41.8009 103.415 41.8488 103.302 41.8836V41.8749Z" fill="#4B5A62"/>
                <path d="M24.3809 12.1217C24.0108 12.1217 23.7279 12.1086 23.4493 12.1217C21.2075 12.2348 18.9569 12.2522 16.763 12.8356C16.2493 12.9705 15.7226 12.9618 15.2307 12.718C14.5734 12.3915 14.1729 11.8692 14.1337 11.1248C14.0945 10.35 14.4254 9.75358 15.1045 9.37922C15.3743 9.23121 15.6791 9.13544 15.9794 9.03968C18.0558 8.36495 20.2106 8.09941 22.3697 7.90788C23.8759 7.77729 25.3908 7.72505 26.9056 7.66411C27.2669 7.65105 27.6413 7.70328 27.9895 7.79905C29.3259 8.156 30.0747 9.29215 29.6568 10.6068C29.2084 12.0172 28.6469 13.4145 27.9634 14.7248C27.1102 16.3659 26.0786 17.9156 25.1209 19.5001C24.9903 19.7178 24.851 19.9354 24.6812 20.2053C24.938 20.3751 25.147 20.5231 25.3646 20.658C28.5903 22.643 31.8159 24.6237 35.0415 26.6087C35.3071 26.7741 35.577 26.9439 35.799 27.1572C36.5956 27.9102 36.7392 28.9942 36.182 29.8648C35.6161 30.7484 34.4974 31.0836 33.4875 30.644C33.1523 30.5003 32.8389 30.3088 32.5254 30.1173C29.3869 28.1932 26.2527 26.2604 23.1141 24.3364C22.8312 24.1622 22.5352 24.0099 22.1869 23.8184C21.8648 24.2754 21.5688 24.6672 21.2989 25.0764C18.613 29.1683 15.3308 32.7378 11.6655 35.9504C9.38452 37.9484 6.89021 39.6766 4.23484 41.1566C3.80388 41.3961 3.35116 41.6181 2.88974 41.7878C1.845 42.1666 0.769792 41.7574 0.260483 40.8258C-0.248826 39.8942 0.00365189 38.7929 0.887325 38.0964C1.03098 37.9832 1.18769 37.8831 1.3444 37.8004C5.21863 35.7719 8.61403 33.1078 11.6873 30.0041C13.7158 27.9538 15.5789 25.7816 17.2026 23.4005C19.1006 20.6145 20.9898 17.8285 22.8573 15.0251C23.3318 14.3112 23.7148 13.532 24.124 12.7746C24.2198 12.6005 24.2677 12.4002 24.3721 12.1173L24.3809 12.1217Z" fill="#4B5A62"/>
                <path d="M138.231 22.6996C138.179 21.0542 138.122 19.4435 138.07 17.7676C137.866 17.7415 137.67 17.6936 137.474 17.6936C135.515 17.7153 133.556 17.7197 131.601 17.7893C130.404 17.8329 129.207 17.9809 128.01 18.0767C127.723 18.0984 127.436 18.1202 127.148 18.0941C126.269 18.0157 125.559 17.3627 125.416 16.5313C125.276 15.7129 125.742 14.8597 126.548 14.4941C126.761 14.3983 126.992 14.3287 127.218 14.2895C130.152 13.7671 133.095 13.3405 136.085 13.3884C137.13 13.4058 138.175 13.3449 139.219 13.3579C139.711 13.3623 140.216 13.4102 140.691 13.5277C141.862 13.815 142.506 14.7422 142.51 15.9436C142.519 18.1594 142.562 20.3794 142.58 22.5951C142.584 23.1436 142.602 23.6965 142.519 24.2319C142.327 25.5161 141.592 26.3867 140.325 26.7088C139.315 26.97 138.279 27.1267 137.26 27.34C134.322 27.9494 131.384 28.5588 128.445 29.1726C128.245 29.2162 128.054 29.2858 127.779 29.3685C127.779 29.9214 127.779 30.4611 127.779 31.0009C127.779 31.3361 128.001 31.4449 128.271 31.5102C128.855 31.6539 129.434 31.8106 130.021 31.9325C132.577 32.4636 135.123 33.0295 137.691 33.4909C139.72 33.8565 141.77 34.0916 143.807 34.3746C145.026 34.5443 145.853 35.4541 145.806 36.5903C145.762 37.7221 144.87 38.5796 143.638 38.6319C143.146 38.6536 142.641 38.6319 142.153 38.5579C139.65 38.1748 137.139 37.8352 134.657 37.3564C132.172 36.8819 129.712 36.2768 127.244 35.6979C126.299 35.4759 125.398 35.145 124.606 34.5443C123.866 33.9828 123.487 33.2645 123.457 32.3373C123.418 30.9574 123.365 29.5731 123.318 28.1932C123.274 26.8786 123.897 25.9296 125.176 25.5335C126.121 25.2418 127.096 25.0329 128.067 24.8326C131.21 24.1797 134.357 23.5441 137.5 22.8999C137.722 22.852 137.94 22.778 138.222 22.6953L138.231 22.6996Z" fill="#4B5A62"/>
                <path d="M59.1011 20.1966C58.9792 24.6977 58.1434 28.3238 56.0148 31.5712C55.0005 33.1209 53.7381 34.4311 52.0753 35.3018C49.2849 36.7687 46.1856 36.3334 43.8915 34.1613C42.307 32.6638 41.3145 30.805 40.7616 28.7286C39.3295 23.3308 39.9694 18.1637 42.677 13.2752C43.4562 11.8692 44.4835 10.6547 45.772 9.67523C49.1718 7.08515 53.2985 7.56834 56.0148 10.868C57.3555 12.5004 58.1739 14.3896 58.5831 16.4355C58.8748 17.8895 58.9879 19.3782 59.0968 20.1922L59.1011 20.1966ZM54.8438 20.8017C54.674 19.5915 54.5783 18.364 54.3214 17.1712C54.008 15.7042 53.4334 14.3287 52.3321 13.2447C51.283 12.2087 50.1077 12.0738 48.8409 12.8225C48.04 13.297 47.3827 13.9369 46.8864 14.7161C44.1788 18.969 43.6782 23.5136 45.1626 28.2933C45.4673 29.2684 45.9766 30.1608 46.7123 30.8921C47.8528 32.0239 49.1239 32.1501 50.4646 31.2491C51.2787 30.7006 51.9186 29.978 52.4409 29.1596C54.0603 26.613 54.6871 23.7966 54.8395 20.8017H54.8438Z" fill="#4B5A62"/>
                <path d="M104.447 13.8933C106.445 13.7976 108.365 13.7018 110.354 13.606C110.397 13.3579 110.463 13.1054 110.489 12.853C110.694 10.5632 110.889 8.27789 111.094 5.98817C111.138 5.49627 111.198 5.00002 111.29 4.51683C111.346 4.21212 111.451 3.9074 111.595 3.63316C112.047 2.78431 112.988 2.36641 113.915 2.57101C114.798 2.7669 115.464 3.52433 115.552 4.45154C115.569 4.63436 115.569 4.81719 115.552 5.00002C115.199 8.5826 114.838 12.1695 114.494 15.7521C114.311 17.6239 114.176 19.5001 113.976 21.3676C113.902 22.0641 113.736 22.7562 113.549 23.4353C113.175 24.8021 112.278 25.5422 110.872 25.6989C110.615 25.7294 110.35 25.7119 110.088 25.725C109.153 25.7729 108.217 25.8295 107.276 25.8774C106.158 25.9296 105.035 26.0079 103.911 26.0167C102.841 26.0254 101.974 25.355 101.683 24.2667C101.461 23.4396 101.326 22.5821 101.195 21.7332C100.708 18.4815 100.211 15.2297 99.7803 11.9693C99.5845 10.498 99.5322 9.00485 99.4016 7.52045C99.332 6.71513 99.2232 5.90981 99.1535 5.1045C99.123 4.76931 99.1056 4.42106 99.1666 4.09458C99.3146 3.27621 99.9675 2.67113 100.751 2.56666C101.561 2.45783 102.331 2.83219 102.706 3.58092C102.867 3.8987 102.958 4.26871 103.01 4.62566C103.433 7.35939 103.833 10.0975 104.247 12.8356C104.294 13.1446 104.36 13.445 104.447 13.9021V13.8933ZM105.548 21.6549C106.872 21.5504 108.064 21.459 109.257 21.3676C109.605 21.3415 109.666 21.0933 109.697 20.8234C109.775 20.1226 109.853 19.4261 109.919 18.7253C109.993 17.9722 109.949 17.9025 109.2 17.8895C107.951 17.8677 106.697 17.8808 105.444 17.8895C105.322 17.8895 105.204 17.9591 105.021 18.0157C105.196 19.2172 105.365 20.3925 105.544 21.6549H105.548Z" fill="#4B5A62"/>
                <path d="M24.1459 44.3474C25.2342 44.2343 26.1919 44.1429 27.1452 44.0297C30.693 43.6074 34.2407 43.1721 37.7928 42.7499C38.2586 42.6933 38.7287 42.6541 39.1989 42.6672C40.396 42.6976 41.3145 43.5813 41.3536 44.7175C41.3928 45.8101 40.5744 46.7852 39.4296 46.9245C36.944 47.2335 34.454 47.5121 31.9684 47.8125C28.6253 48.213 25.2821 48.6048 21.9476 49.0357C18.4782 49.4841 15.0219 49.9934 11.5525 50.4417C9.14526 50.7508 6.73365 51.0033 4.32205 51.2775C3.15543 51.4081 2.2674 50.8335 2.06281 49.828C1.85386 48.8006 2.45459 47.7994 3.57768 47.5252C4.87054 47.2118 6.18517 46.9811 7.49544 46.7765C11.3131 46.1844 15.1307 45.6229 18.9484 45.0526C19.6927 44.9395 19.6971 44.9438 19.7755 44.1951C20.0323 41.7051 20.2412 39.2065 20.559 36.7209C20.8289 34.627 21.212 32.5463 21.5776 30.4611C21.6429 30.0911 21.817 29.7081 22.0347 29.3946C22.544 28.6633 23.4538 28.4065 24.2591 28.6982C25.0906 29.0029 25.5868 29.7821 25.5128 30.7441C25.4388 31.68 25.3213 32.6116 25.2255 33.5475C24.899 36.6077 24.5725 39.6722 24.2504 42.7325C24.1982 43.22 24.1895 43.7119 24.1503 44.3431L24.1459 44.3474Z" fill="#4B5A62"/>
                <path d="M166.317 9.61863C165.42 9.50546 164.676 9.34439 163.932 9.33133C162.709 9.30521 161.481 9.38357 160.258 9.40533C159.87 9.41404 159.47 9.43581 159.091 9.35745C158.225 9.18333 157.659 8.51295 157.594 7.66846C157.528 6.82832 157.981 6.05782 158.813 5.77487C159.374 5.58334 159.979 5.49192 160.571 5.40921C162.439 5.13497 164.315 5.11756 166.195 5.29168C166.896 5.35698 167.601 5.37874 168.307 5.41792C169.003 5.4571 169.647 5.62687 170.161 6.13618C170.788 6.75867 170.945 7.52916 170.836 8.37366C170.505 10.8854 170.122 13.3884 169.308 15.8C168.415 18.4467 167.479 21.0759 166.561 23.7139C166.5 23.8837 166.452 24.0534 166.383 24.2754C166.6 24.4321 166.809 24.5801 167.014 24.7369C168.672 26.0036 170.322 27.279 171.981 28.5458C172.725 29.116 173.474 29.6819 174.24 30.2217C174.675 30.5264 175.071 30.8442 175.293 31.3492C175.637 32.1414 175.554 32.8945 175.006 33.5518C174.466 34.2048 173.735 34.4834 172.903 34.257C172.433 34.1264 171.959 33.9175 171.567 33.6302C170.579 32.9119 169.612 32.1501 168.672 31.3622C167.593 30.4568 166.552 29.5078 165.49 28.5806C165.277 28.3978 165.037 28.2411 164.728 28.0104C164.554 28.2977 164.393 28.5197 164.267 28.7634C163.218 30.8268 161.86 32.6725 160.336 34.4007C159.975 34.8099 159.566 35.1886 159.122 35.4976C158.138 36.1811 156.958 36.0244 156.227 35.1668C155.509 34.3267 155.556 33.1078 156.401 32.259C157.942 30.7136 159.309 29.0246 160.262 27.0657C161.302 24.9327 162.264 22.7562 163.122 20.5448C164.162 17.8721 165.103 15.1514 165.773 12.3567C165.978 11.4992 166.117 10.6242 166.317 9.60993V9.61863Z" fill="#4B5A62"/>
                <path d="M74.1887 5.49628C73.7229 5.56157 73.2659 5.62252 72.8131 5.69217C72.404 5.75746 71.9948 5.87935 71.5812 5.88805C70.7585 5.90547 70.0315 5.35698 69.7965 4.6126C69.5396 3.80293 69.8052 2.93667 70.5321 2.47525C70.9239 2.22712 71.3723 2.05735 71.8163 1.92241C73.6794 1.35215 75.6122 1.23462 77.5406 1.12144C81.1145 0.912493 84.6883 0.956024 88.2491 1.36086C88.5582 1.39568 88.876 1.41745 89.1763 1.4958C90.3038 1.80052 90.9393 2.72337 90.8174 3.8334C90.7043 4.86073 89.8467 5.64864 88.728 5.69652C88.2361 5.71828 87.7398 5.63122 87.2436 5.6051C86.9127 5.58769 86.5776 5.6051 86.2554 5.6051C85.9333 6.5149 85.5502 9.91029 85.6765 10.8114C85.9028 10.8375 86.151 10.868 86.4034 10.8854C87.052 10.9376 87.7094 10.942 88.3536 11.0421C89.7771 11.2597 90.6041 12.5744 90.1427 13.8629C89.838 14.7161 89.1894 15.1427 88.3231 15.2602C88.0663 15.295 87.8008 15.2863 87.5396 15.2776C83.156 15.1601 78.7769 15.0339 74.3933 14.9337C73.1962 14.9076 71.9948 14.9599 70.7977 15.0034C70.1795 15.0252 69.6006 14.9816 69.1043 14.5637C67.9856 13.6235 68.2381 11.8996 69.6354 11.3947C70.4102 11.1161 71.2591 11.0334 72.0818 10.9071C72.5171 10.8375 72.9655 10.8462 73.4095 10.8375C73.7491 10.8288 73.9536 10.6982 73.9798 10.3412C74.0842 8.85685 74.1887 7.3768 74.2888 5.89241C74.2932 5.79664 74.241 5.69652 74.1887 5.50063V5.49628ZM81.1972 10.794C81.5236 8.95697 81.8284 7.2288 82.1461 5.41357C80.8359 5.33086 79.6083 5.33086 78.3328 5.42228V10.6634C79.3079 10.7069 80.2308 10.7504 81.1972 10.794Z" fill="#4B5A62"/>
                <path d="M152.57 24.763C152.57 24.9719 152.562 25.1809 152.57 25.3898C152.801 29.4904 152.518 33.5823 152.448 37.6785C152.4 40.5211 152.148 43.3593 151.983 46.1975C151.97 46.4064 151.939 46.6154 151.904 46.82C151.865 47.0246 151.822 47.2292 151.752 47.4251C151.408 48.3958 150.472 48.9835 149.493 48.8572C148.513 48.731 147.743 47.9257 147.651 46.9071C147.625 46.598 147.63 46.2802 147.651 45.9668C148.235 38.1008 148.3 30.2217 148.313 22.3383C148.317 18.9995 148.483 15.6607 148.596 12.3219C148.635 11.1248 148.735 9.9277 148.809 8.73061C148.874 7.72505 149.545 6.96762 150.481 6.84138C151.399 6.71949 152.3 7.27668 152.527 8.27354C152.705 9.05274 152.727 9.87111 152.744 10.6764C152.775 12.1869 152.744 13.7018 152.744 15.2123C152.744 16.1787 152.784 17.1451 152.762 18.1071C152.714 20.3272 152.64 22.5429 152.579 24.7586H152.57V24.763Z" fill="#4B5A62"/>
                <path d="M60.8031 38.1661C60.9816 35.2931 61.1601 32.346 61.3516 29.4033C61.4735 27.5794 61.5954 25.7555 61.7652 23.9359C62.1439 19.8571 62.5313 15.7739 62.9623 11.6994C63.193 9.51851 63.5238 7.35068 63.8155 5.1785C63.8459 4.94779 63.8938 4.71272 63.9722 4.49507C64.2638 3.65493 64.969 3.16303 65.8135 3.18915C66.6406 3.21526 67.3676 3.76811 67.5809 4.60389C67.6679 4.95214 67.6984 5.33086 67.6723 5.68781C67.4416 8.7872 67.2109 11.8822 66.941 14.9773C66.5622 19.3477 66.1008 23.7095 65.7787 28.0844C65.4827 32.0935 65.3173 36.1114 65.104 40.125C65.0735 40.6691 65.1431 41.2219 65.1257 41.7704C65.1083 42.184 65.0822 42.6106 64.9603 43.0023C64.6382 44.0297 63.6631 44.6347 62.6663 44.4911C61.6085 44.3387 60.8249 43.4812 60.8031 42.3929C60.777 41.0086 60.7988 39.6244 60.7988 38.1704L60.8031 38.1661Z" fill="#4B5A62"/>
                <path d="M183.986 5.47016C183.69 9.94947 183.394 14.4244 183.107 18.9037C182.876 22.495 182.65 26.0907 182.428 29.6819C182.263 32.3112 182.11 34.9405 181.932 37.5697C181.901 38.0094 181.827 38.4577 181.684 38.8669C181.357 39.7811 180.574 40.2643 179.616 40.2251C178.702 40.1903 177.966 39.6548 177.727 38.7407C177.605 38.2749 177.587 37.7612 177.614 37.2737C177.805 33.9654 178.023 30.6614 178.236 27.353C178.471 23.7095 178.71 20.066 178.946 16.4225C179.124 13.6104 179.298 10.7983 179.477 7.98623C179.542 6.94585 179.62 5.90546 179.694 4.86508C179.707 4.70837 179.729 4.55166 179.764 4.3993C180.012 3.28491 180.957 2.53183 182.006 2.61019C183.094 2.6929 183.943 3.59833 184.004 4.7606C184.017 4.99567 184.004 5.23074 184.004 5.4658C183.999 5.4658 183.991 5.4658 183.986 5.4658V5.47016Z" fill="#4B5A62"/>
                <path d="M81.9765 22.6169C81.8633 23.7356 81.7632 24.7456 81.6544 25.7511C81.6108 26.1385 81.5978 26.539 81.4933 26.909C81.2017 27.9625 80.2962 28.5676 79.2515 28.4544C78.2459 28.3455 77.4362 27.4967 77.4667 26.4128C77.4928 25.5073 77.68 24.6063 77.8019 23.7008C77.8585 23.2916 77.9194 22.8868 77.9934 22.3905C77.2578 22.3165 76.5961 22.2121 75.9301 22.1947C74.3412 22.1598 72.748 22.1685 71.1591 22.1598C70.8718 22.1598 70.5845 22.1947 70.2972 22.1816C69.2829 22.1381 68.4863 21.4111 68.3949 20.4491C68.3035 19.5306 68.9216 18.6469 69.888 18.4336C70.6759 18.2595 71.4812 18.1376 72.2866 18.0897C73.6926 18.007 75.0986 17.9504 76.509 17.9635C80.5574 18.0026 84.5796 18.3988 88.5801 19.0387C88.8631 19.0822 89.1504 19.1257 89.4246 19.2041C90.4781 19.5088 91.1397 20.497 91.0004 21.5199C90.8524 22.5777 90.0036 23.4005 88.9066 23.3656C87.8662 23.3352 86.8345 23.1523 85.7985 23.0217C84.7625 22.8911 83.7308 22.7431 82.6948 22.6082C82.4945 22.5821 82.2899 22.6082 81.9765 22.6082V22.6169Z" fill="#4B5A62"/>
                <path d="M124.776 2.01382C124.606 3.79423 124.484 5.50934 124.266 7.22009C123.679 11.8779 123.048 16.527 122.434 21.1847C122.347 21.829 122.286 22.482 122.147 23.1175C122.055 23.5398 121.916 23.9881 121.672 24.3407C121.228 24.9893 120.549 25.2679 119.761 25.1635C118.943 25.059 118.329 24.615 118.081 23.8271C117.928 23.3439 117.85 22.791 117.92 22.2948C118.821 15.9437 119.752 9.59687 120.68 3.24574C120.762 2.67984 120.867 2.11394 121.01 1.55675C121.206 0.799313 121.668 0.250826 122.451 0.0592907C123.731 -0.249777 124.798 0.686133 124.771 2.01382H124.776Z" fill="#4B5A62"/>
                </svg>

                <h2 style="margin-bottom: 10px; color: #333;">Joyvil 관리자 인증번호</h2>
                <p style="font-size: 16px; color: #333;">아래 인증번호를 입력하여 관리자 인증을 완료하세요.</p>
                <p style="font-size: 20px; color: #007BFF; font-weight: bold;">인증번호: {str(randNum)}</p>
                <p style="font-size: 14px; color: #777;">만약 인증번호를 요청하지 않으셨다면, 이 이메일을 무시하셔도 됩니다.</p>
                <hr style="margin: 20px 0; border: none; border-top: 1px solid #eaeaea;">
                <p style="font-size: 12px; color: #999;">© {datetime.now().year} joyvil.com. All rights reserved.</p>
                </div>
            </div>
        </body>
        """

        return send_mail(
            subject='[조이풀] 관리자 페이지 이동을 위한 인증번호입니다.',  # Email subject
            message= "",  # Email body
            from_email='yujin_career@naver.com',  # Sender's email
            recipient_list=[userEmailAddr],  # List of recipients
            fail_silently=False,  # Raise exception if sending fails
            html_message=html_message  # Use the HTML message
        )

    def sendRecoverRequest(content, ipAdress, requestingPerson):
        try:
            subject = "[조이풀] 관리자 인증 로그인에 문제를 겪고 있습니다"

            # Get today's date as a string
            requesting_time = datetime.date.today().strftime("%Y-%m-%d")

            # HTML message (Using f-strings for better readability)
            html_message = f"""
            <body style="font-family: Arial, sans-serif; background-color: #f4f4f4; margin: 0; padding: 0;">
                <div style="max-width: 600px; margin: 20px auto; background: #ffffff; padding: 20px; 
                            border-radius: 8px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);">
                    <div style="text-align: center; font-size: 16px; color: #333;">
                        <h2 style="margin-bottom: 10px;">Error Detail of Joyful</h2>
                        <p style="margin-bottom: 15px;"><strong>CONTENT:</strong> {content}</p>
                        <p style="margin-bottom: 15px;"><strong>IP ADDRESS:</strong> {ipAdress}</p>
                        <p style="margin-bottom: 15px;"><strong>REQUESTING PERSON:</strong> {requestingPerson}</p>
                        <p style="margin-bottom: 15px;"><strong>REQUESTING TIME:</strong> {requesting_time}</p>
                    </div>
                </div>
            </body>
            """

            # Send the email
            return send_mail(
                subject=subject,  # Email subject
                message="",  # Leave plain text empty (not used)
                from_email='yujin_career@naver.com',  # Sender's email
                recipient_list=["cuu2252@gmail.com"],  # List of recipients
                fail_silently=False,  # Raise exception if sending fails
                html_message=html_message  # Use the HTML message
            )

        except Exception as e:
            print(f"Error sending email: {e}")
            return False  # Return False if the email fails to send